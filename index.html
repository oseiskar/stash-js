<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no">
<title>stash.js</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="style.css"/>
<script src="stash.js"/></script>
<script src="views.js"/></script>
<script>
$(document).ready(function() {
    $("#error-box").hide();
    
    try {
        data = decodeQuery();
        
        if (!navigator.geolocation) {
            showError("Geolocation is not supported by this browser.");
        }
        else
        {
            if (data === undefined) {
                beginNewStash(true);
            }
            else {
                beginStashed( data );
            }
        }
    }
    catch (exception)
    {
        showError(exception.message);
        throw exception;
    }
});
</script>
</head>
<body>
<div class="container">
    <div class="header" id="header"><h1>stash.js</h1></div>
    <div class="row-fluid" id="main">
        <div id="primary-box" class="col-md-4 limited-width">
            <div id="error-box" class="alert alert-danger alert-dismissable"></div>
            <p class="explain-box">
                <span class="explain-label">1.</span>
                <span class="explain-text">Select the location to geocache. You can use your current location (default) or enter the coordinates manually by clicking the <i>edit</i> button. On some devices, it is possible to improve the accuracy of your current location by first <i>tracking</i> for a while. When ready, click <i>stash</i>.</span>
            </p>
            <div id="inner-primary-box"></div>
        </div>
        <div id="stash-box" class="col-md-4 limited-width">
            <div class="explain-box">
                <div class="explain-label">2.<a id="stash"></a></div>
                <div class="explain-text">Select the type of the resulting geocaching puzzle. A <i>preview</i> of each mode is available.</div>
            </div>
            <div id="inner-stash-box"></div>
            
            <div class="explain-box">
                <div class="explain-label">3.</div>
                <div class="explain-text">Share by publishing the following link. There are a few buttons to help you.</div>
            </div>
            <div id="inner-publish-box"></div>
            
        </div>
        <div id="preview-frame-box" class="col-md-4">
            <div class="explain-box">
                <div class="explain-label">2.*<a id="preview"></a></div>
                <div class="explain-text">Below, you can preview the resulting puzzle in a location shown by the accompanying map view.</div>
            </div>
            <div id="inner-preview-frame-box"></div>
        </div>
    </div>
</div>
</body>
</html>


